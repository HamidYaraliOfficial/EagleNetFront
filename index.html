<!DOCTYPE html>
<html lang="fa" dir="rtl" id="html-root" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EagleNet - سرویس VPN حرفه‌ای و رایگان</title>
    <meta name="description" content="EagleNet یک سرویس VPN رایگان و حرفه‌ای است که دسترسی آزاد و امن به اینترنت را برای همه فراهم می‌کند.">
    <meta name="keywords" content="VPN, EagleNet, اینترنت آزاد, امنیت آنلاین, کانفیگ VPN">
    <meta name="author" content="Hamid Yarali">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ff4d4d'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm2.5-9.5c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .39.15.74.39 1.01-.95.33-1.64 1.22-1.64 2.24 0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5c0-1.02-.69-1.91-1.64-2.24.24-.27.39-.62.39-1.01z'/%3E%3C/svg%3E">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'vazir': ['Vazirmatn', 'Tahoma', 'Arial', 'sans-serif'],
                        'noto-sans-sc': ['Noto Sans SC', 'sans-serif']
                    },
                    colors: {
                        primary: {
                            light: '#3b82f6',
                            dark: '#2563eb',
                            DEFAULT: '#2563eb'
                        },
                        secondary: {
                            light: '#ef4444',
                            dark: '#dc2626',
                            DEFAULT: '#dc2626'
                        },
                        background: {
                            light: '#f3f4f6',
                            dark: '#0f0c29'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.6s ease-out forwards',
                        'pulse-fast': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'gradient-bg': 'gradient-bg 15s ease infinite',
                    },
                    keyframes: {
                        fadeIn: { 'from': { opacity: 0 }, 'to': { opacity: 1 } },
                        slideUp: { 
                            'from': { transform: 'translateY(30px)', opacity: 0 }, 
                            'to': { transform: 'translateY(0)', opacity: 1 } 
                        },
                        'gradient-bg': {
                            '0%, 100%': { 'background-position': '0% 50%' },
                            '50%': { 'background-position': '100% 50%' },
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-light: #3b82f6;
            --primary-dark: #2563eb;
            --secondary-light: #ef4444;
            --secondary-dark: #dc2626;
        }
        body {
            font-family: 'Vazirmatn', 'Noto Sans SC', Tahoma, Arial, sans-serif;
            line-height: 1.6;
            scroll-behavior: smooth;
        }
        .dark body {
            background: linear-gradient(-45deg, #0f0c29, #302b63, #24243e);
            background-size: 400% 400%;
            animation: gradient-bg 15s ease infinite;
        }
        .light body {
            background: linear-gradient(-45deg, #e5e7eb, #f3f4f6, #d1d5db);
            background-size: 400% 400%;
            animation: gradient-bg 15s ease infinite;
        }
        .card-glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
        }
        .light .card-glass {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.05);
        }
        .card-glass:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
        }
        .light .card-glass:hover {
            background: rgba(0, 0, 0, 0.1);
        }
        .status-online {
            background: #10b981;
            box-shadow: 0 0 12px rgba(16, 185, 129, 0.8);
            animation: pulse-fast 2s infinite;
        }
        .ripple { position: relative; overflow: hidden; }
        .ripple::before {
            content: ''; position: absolute; top: 50%; left: 50%;
            width: 0; height: 0; border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%); transition: width 0.6s, height 0.6s;
        }
        .light .ripple::before {
            background: rgba(0, 0, 0, 0.3);
        }
        .ripple:active::before { width: 300px; height: 300px; }
        .timeline-item::before {
            content: '';
            background: rgba(255,255,255,0.2);
            width: 3px;
            height: 100%;
            position: absolute;
            right: 1.1rem;
            top: 1.5rem;
            z-index: 1;
        }
        [dir="ltr"] .timeline-item::before {
            right: auto;
            left: 1.1rem;
        }
        .timeline-container > div:last-child .timeline-item::before {
            display: none;
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .animated-section {
            opacity: 0;
        }
        .config-list::-webkit-scrollbar {
            width: 8px;
        }
        .config-list::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
        }
        .light .config-list::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.1);
        }
        .config-list::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
        }
        .light .config-list::-webkit-scrollbar-thumb {
            background: rgba(0,0,0,0.2);
        }
        .config-list::-webkit-scrollbar-thumb:hover {
            background: rgba(255,255,255,0.3);
        }
        .light .config-list::-webkit-scrollbar-thumb:hover {
            background: rgba(0,0,0,0.3);
        }
        .language-switcher button.active {
            background-color: var(--primary-dark);
            color: white;
        }
        .light .language-switcher button.active {
            background-color: var(--primary-light);
            color: white;
        }
    </style>
</head>
<body class="min-h-screen text-gray-200 dark:text-gray-200 text-gray-800">
    <!-- Language Switcher -->
    <div class="fixed top-4 left-4 z-50">
        <div class="language-switcher flex space-x-2 bg-gray-800 dark:bg-gray-900 rounded-lg p-1">
            <button data-lang="fa" class="px-3 py-1 rounded-md text-sm font-medium text-gray-300 active">فارسی</button>
            <button data-lang="en" class="px-3 py-1 rounded-md text-sm font-medium text-gray-300">English</button>
            <button data-lang="zh" class="px-3 py-1 rounded-md text-sm font-medium text-gray-300">中文</button>
        </div>
        <button id="theme-toggle" class="mt-2 px-3 py-1 bg-gray-800 dark:bg-gray-900 text-gray-300 rounded-lg text-sm font-medium flex items-center">
            <i class="fa-solid fa-moon mr-2"></i> حالت تاریک
        </button>
    </div>

    <!-- Welcome Modal -->
    <div id="welcomeModal" class="hidden fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in">
        <div class="bg-white dark:bg-gray-900 rounded-3xl p-8 max-w-md w-full mx-4 animate-slide-up shadow-2xl border dark:border-gray-700">
            <div class="text-center">
                <div class="w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                    <span class="text-3xl">🦅</span>
                </div>
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4" data-lang-text="welcome-title">به EagleNet خوش آمدید!</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-6 leading-relaxed" data-lang-text="welcome-message">
                    اینجا دروازه‌ای به سوی اینترنت آزاد و بدون محدودیت است. امیدواریم از سرویس ما لذت ببرید.
                </p>
                <button onclick="closeWelcome()" class="w-full bg-gradient-to-r from-primary to-secondary hover:from-primary-dark hover:to-secondary-dark text-white py-3 rounded-xl font-semibold ripple transition-all shadow-lg hover:shadow-xl">
                    <span data-lang-text="welcome-button">بزن بریم!</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="py-20 relative overflow-hidden">
        <div class="container mx-auto px-4 relative z-10">
            <div class="text-center animate-fade-in">
                <div class="flex items-center justify-center mb-10">
                    <div class="card-glass rounded-3xl flex items-center justify-center w-24 h-24 ml-6 shadow-2xl">
                        <span class="text-4xl text-white dark:text-white text-gray-800">🦅</span>
                    </div>
                    <div>
                        <h1 class="text-5xl md:text-6xl font-black mb-3 text-white dark:text-white text-gray-800">EagleNet</h1>
                        <p class="text-blue-200 dark:text-blue-200 text-blue-600 text-lg md:text-xl font-medium" data-lang-text="header-subtitle">سرویس VPN حرفه‌ای و رایگان</p>
                    </div>
                </div>
                
                <div class="card-glass rounded-3xl p-6 md:p-8 inline-block shadow-2xl mb-6">
                    <div class="grid grid-cols-3 gap-4 md:gap-8">
                        <div class="text-center">
                            <div class="flex items-center justify-center mb-3">
                                <div class="w-3 h-3 status-online rounded-full ml-2"></div>
                                <div class="font-bold text-lg text-gray-100 dark:text-gray-100 text-gray-800" data-lang-text="status">وضعیت</div>
                            </div>
                            <div class="text-blue-200 dark:text-blue-200 text-blue-600 text-sm font-mono">آپتایم: <span id="uptime" class="font-semibold">--</span>%</div>
                        </div>
                        <div class="text-center">
                            <div class="font-bold text-2xl mb-1 text-white dark:text-white text-gray-800" id="activeServers">24</div>
                            <div class="text-blue-200 dark:text-blue-200 text-blue-600 text-sm" data-lang-text="active-servers">سرور فعال</div>
                        </div>
                        <div class="text-center">
                            <div class="font-bold text-2xl mb-1 text-white dark:text-white text-gray-800" id="serverPing">--</div>
                            <div class="text-blue-200 dark:text-blue-200 text-blue-600 text-sm" data-lang-text="ping">پینگ</div>
                        </div>
                    </div>
                </div>

                <div class="card-glass rounded-3xl p-6 md:p-8 inline-block shadow-2xl max-w-2xl w-full">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                        <div class="flex flex-col items-center">
                            <i class="fa-solid fa-wifi text-blue-300 dark:text-blue-300 text-blue-600 text-2xl mb-3"></i>
                            <h3 class="text-gray-300 dark:text-gray-300 text-gray-700 text-sm font-bold mb-1" data-lang-text="ip-address">آدرس IP شما</h3>
                            <p id="user-ip" class="font-mono text-white dark:text-white text-gray-800 font-semibold animate-pulse" data-lang-text="loading">در حال بارگذاری...</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <i class="fa-solid fa-location-dot text-green-300 dark:text-green-300 text-green-600 text-2xl mb-3"></i>
                            <h3 class="text-gray-300 dark:text-gray-300 text-gray-700 text-sm font-bold mb-1" data-lang-text="location">موقعیت مکانی</h3>
                            <p id="user-location" class="font-mono text-white dark:text-white text-gray-800 font-semibold animate-pulse" data-lang-text="loading">در حال بارگذاری...</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <i class="fa-solid fa-building text-purple-300 dark:text-purple-300 text-purple-600 text-2xl mb-3"></i>
                            <h3 class="text-gray-300 dark:text-gray-300 text-gray-700 text-sm font-bold mb-1" data-lang-text="isp">سرویس‌دهنده</h3>
                            <p id="user-isp" class="font-mono text-white dark:text-white text-gray-800 font-semibold animate-pulse" data-lang-text="loading">در حال بارگذاری...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Sections -->
    <div class="space-y-16 md:space-y-24 pb-16">
        <!-- Quick Actions -->
        <section class="relative z-20 container mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                <a href="#sublink" class="card-glass rounded-3xl p-6 text-center ripple group">
                    <div class="w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-solid fa-link text-3xl text-white"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 text-white dark:text-white text-gray-800" data-lang-text="sub-link">لینک اشتراک</h3>
                    <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-sm" data-lang-text="sub-link-desc">افزودن همه سرورها</p>
                </a>
                <a href="#tools" class="card-glass rounded-3xl p-6 text-center ripple group">
                    <div class="w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-solid fa-toolbox text-3xl text-white"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 text-white dark:text-white text-gray-800" data-lang-text="tools">ابزارهای واقعی</h3>
                    <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-sm" data-lang-text="tools-desc">تست پینگ و امنیت</p>
                </a>
                <a href="#notifications" class="card-glass rounded-3xl p-6 text-center ripple group">
                    <div class="w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-solid fa-bell text-3xl text-white"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 text-white dark:text-white text-gray-800" data-lang-text="updates">آخرین آپدیت‌ها</h3>
                    <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-sm" data-lang-text="updates-desc">اخبار و اطلاعیه‌ها</p>
                </a>
            </div>
        </section>

        <!-- Subscription Link Section -->
        <section id="sublink" class="animated-section container mx-auto px-4">
            <div class="card-glass rounded-3xl shadow-2xl p-8 max-w-4xl mx-auto text-center">
                <div class="w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg">
                    <i class="fa-solid fa-link text-3xl text-white"></i>
                </div>
                <h2 class="text-3xl font-bold mb-4 text-white dark:text-white text-gray-800" data-lang-text="sub-link-title">لینک اشتراک (Subscription)</h2>
                <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-lg mb-6" data-lang-text="sub-link-desc-long">این لینک را در کلاینت خود وارد کنید تا همه سرورها به صورت خودکار اضافه شوند.</p>
                <div class="bg-black bg-opacity-20 dark:bg-gray-800 light:bg-gray-200 rounded-xl p-4 mb-6 shadow-inner relative z-10">
                    <p id="subLink" class="font-mono text-center text-white dark:text-white text-gray-800 font-bold text-sm md:text-lg break-all">https://dev1.irdevs.sbs</p>
                </div>
                <button onclick="copySubLink()" class="bg-gradient-to-r from-primary to-secondary hover:from-primary-dark hover:to-secondary-dark text-white px-8 py-4 rounded-xl font-bold text-lg ripple transition-all shadow-lg hover:shadow-xl">
                    <i class="fa-solid fa-copy ml-2"></i>
                    <span data-lang-text="copy-link">کپی کردن لینک</span>
                </button>
            </div>
        </section>

        <!-- Notifications / Updates Section -->
        <section id="notifications" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white dark:text-white text-gray-800" data-lang-text="news-title">آخرین اخبار و اطلاعیه‌ها</h2>
                <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-lg" data-lang-text="news-desc">همیشه از آخرین تغییرات و بهبودها مطلع باشید.</p>
            </div>
            <div class="max-w-3xl mx-auto timeline-container">
                <!-- News Item 1 -->
                <div>
                    <div class="timeline-item relative flex items-start space-x-6 space-x-reverse pb-8">
                        <div class="flex-shrink-0 z-10">
                            <span class="flex items-center justify-center w-10 h-10 rounded-full bg-primary text-white shadow-md">
                                <i class="fa-solid fa-cloud"></i>
                            </span>
                        </div>
                        <div class="card-glass p-6 rounded-2xl w-full">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="font-bold text-lg text-blue-300 dark:text-blue-300 text-blue-600" data-lang-text="news-1-title">۸ سرور جدید CDN آلمان</h3>
                                <span class="text-xs text-gray-400 dark:text-gray-400 text-gray-600 font-medium" data-lang-text="today">امروز</span>
                            </div>
                            <p class="text-gray-300 dark:text-gray-300 text-gray-700" data-lang-text="news-1-desc">۸ سرور جدید آلمان با تکنولوژی CDN کلودفلر برای پایداری و سرعت بالاتر به لیست اضافه شد. این سرورها با تمام کلاینت‌های V2Ray سازگار هستند. برای دریافت، لینک اشتراک خود را آپدیت کنید.</p>
                        </div>
                    </div>
                </div>
                <!-- News Item 2 -->
                <div>
                    <div class="timeline-item relative flex items-start space-x-6 space-x-reverse pb-8">
                        <div class="flex-shrink-0 z-10">
                            <span class="flex items-center justify-center w-10 h-10 rounded-full bg-green-500 text-white shadow-md">
                                <i class="fa-solid fa-gamepad"></i>
                            </span>
                        </div>
                        <div class="card-glass p-6 rounded-2xl w-full">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="font-bold text-lg text-green-300 dark:text-green-300 text-green-600" data-lang-text="news-2-title">۶ سرور نیم‌بها مخصوص گیمرها</h3>
                                <span class="bg-yellow-200 text-yellow-800 text-xs font-bold px-2.5 py-1 rounded-full" data-lang-text="special">ویژه</span>
                            </div>
                            <p class="text-gray-300 dark:text-gray-300 text-gray-700" data-lang-text="news-2-desc">۶ سرور جدید و پرسرعت با دیتاسنتر داخلی **رسپینا** به لیست اضافه شد. این سرورها با ترافیک **نیم‌بها** محاسبه شده و بهترین پینگ را برای بازی‌های آنلاین و استریم فراهم می‌کنند.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Server Info -->
        <section id="servers" class="animated-section container mx-auto px-4">
            <div class="card-glass rounded-3xl shadow-2xl p-6 md:p-8 max-w-6xl mx-auto">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold mb-4 text-white dark:text-white text-gray-800" data-lang-text="config-title">دریافت کانفیگ</h2>
                    <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-lg" data-lang-text="config-desc">کانفیگ مورد نظر خود را کپی یا اسکن کنید.</p>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Direct Copy Section -->
                    <div class="card-glass rounded-2xl p-8">
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                                <span class="text-3xl text-white">⚙️</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white dark:text-white text-gray-800 mb-2" data-lang-text="direct-config">کپی مستقیم کانفیگ</h3>
                            <p class="text-blue-300 dark:text-blue-300 text-blue-600" data-lang-text="direct-config-desc">لیست سرورهای جدید آلمان (CDN)</p>
                        </div>
                        
                        <div id="config-list-container" class="space-y-3 h-64 overflow-y-auto config-list pr-2">
                            <!-- Config buttons will be injected here by JS -->
                        </div>
                    </div>
                    
                    <!-- QR Code Generator -->
                    <div class="card-glass rounded-2xl p-8">
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                                <span class="text-3xl text-white">📱</span>
                            </div>
                            <h3 class="text-2xl font-bold text-white dark:text-white text-gray-800 mb-2" data-lang-text="qr-code">QR کد کانفیگ</h3>
                            <p class="text-purple-300 dark:text-purple-300 text-purple-600" data-lang-text="qr-code-desc">اسکن کنید و متصل شوید</p>
                        </div>
                        
                        <div class="bg-white dark:bg-gray-800 rounded-xl p-4 mb-6 shadow-inner text-center">
                            <div id="qrcode" class="flex justify-center"></div>
                        </div>
                        
                        <div>
                            <select id="configSelect" onchange="generateQR()" class="w-full bg-gray-700 dark:bg-gray-700 bg-gray-200 border border-gray-600 dark:border-gray-600 border-gray-300 rounded-lg p-3 text-white dark:text-white text-gray-800 font-medium transition-all">
                                <option value="cf_de_1" data-lang-text="config-1">VLESS - آلمان (CDN 1) 🇩🇪</option>
                                <option value="cf_de_2" data-lang-text="config-2">VLESS - آلمان (CDN 2) 🇩🇪</option>
                                <option value="cf_de_tr_5" data-lang-text="config-3">Trojan - آلمان (CDN 5) 🇩🇪</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Real Tools Section -->
        <section id="tools" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white dark:text-white text-gray-800" data-lang-text="tools-title">ابزارهای کاربردی</h2>
                <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-lg" data-lang-text="tools-desc-long">وضعیت اتصال خود را بررسی کنید</p>
            </div>
            <div class="grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
                <!-- Live Ping Test -->
                <div class="card-glass rounded-2xl p-8">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                            <i class="fa-solid fa-signal text-3xl text-white"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-white dark:text-white text-gray-800 mb-2" data-lang-text="ping-test">تست زنده پینگ سرورها</h3>
                        <p class="text-cyan-300 dark:text-cyan-300 text-cyan-600" data-lang-text="ping-test-desc">سریع‌ترین سرور را برای خود پیدا کنید</p>
                    </div>
                    <div id="ping-list-container" class="space-y-3 mb-6 h-48 overflow-y-auto config-list pr-2">
                        <!-- Ping results will be injected here -->
                    </div>
                    <button onclick="runAllPings()" id="pingTestBtn" class="w-full bg-gradient-to-r from-primary to-secondary hover:from-primary-dark hover:to-secondary-dark text-white px-8 py-3 rounded-xl font-bold text-lg ripple transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa-solid fa-play ml-2"></i>
                        <span data-lang-text="start-ping">شروع تست پینگ</span>
                    </button>
                </div>

                <!-- DNS Leak Test -->
                <div class="card-glass rounded-2xl p-8">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
                            <i class="fa-solid fa-shield-virus text-3xl text-white"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-white dark:text-white text-gray-800 mb-2" data-lang-text="dns-leak">بررسی نشت DNS</h3>
                        <p class="text-red-300 dark:text-red-300 text-red-600" data-lang-text="dns-leak-desc">امنیت اتصال خود را بسنجید</p>
                    </div>
                    <div id="dns-leak-result" class="text-center h-48 flex flex-col justify-center items-center">
                        <p class="text-gray-400 dark:text-gray-400 text-gray-600" data-lang-text="dns-leak-placeholder">برای بررسی وضعیت، روی دکمه زیر کلیک کنید.</p>
                    </div>
                    <button onclick="checkDNSLeak()" id="dnsTestBtn" class="w-full bg-gradient-to-r from-primary to-secondary hover:from-primary-dark hover:to-secondary-dark text-white px-8 py-3 rounded-xl font-bold text-lg ripple transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa-solid fa-search ml-2"></i>
                        <span data-lang-text="start-dns">شروع بررسی امنیت</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Download Clients -->
        <section id="download" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white dark:text-white text-gray-800" data-lang-text="download-title">دانلود کلاینت‌ها</h2>
                <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-lg" data-lang-text="download-desc">اپلیکیشن‌های مورد نیاز برای اتصال</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto">
                <a href="https://github.com/2dust/v2rayNG/releases" target="_blank" class="card-glass rounded-2xl p-6 group text-center">
                    <i class="fa-brands fa-android text-5xl text-green-400 dark:text-green-400 text-green-600 mb-4"></i>
                    <h3 class="font-bold text-xl text-white dark:text-white text-gray-800" data-lang-text="android">اندروید</h3>
                    <p class="text-green-300 dark:text-green-300 text-green-600 font-semibold mt-2">V2RayNG</p>
                </a>
                <a href="https://apps.apple.com/app/streisand/id6450534064" target="_blank" class="card-glass rounded-2xl p-6 group text-center">
                    <i class="fa-brands fa-apple text-5xl text-gray-300 dark:text-gray-300 text-gray-600 mb-4"></i>
                    <h3 class="font-bold text-xl text-white dark:text-white text-gray-800" data-lang-text="ios">iOS</h3>
                    <p class="text-gray-200 dark:text-gray-200 text-gray-600 font-semibold mt-2">Streisand</p>
                </a>
                <a href="https://github.com/2dust/v2rayN/releases" target="_blank" class="card-glass rounded-2xl p-6 group text-center">
                    <i class="fa-brands fa-windows text-5xl text-blue-400 dark:text-blue-400 text-blue-600 mb-4"></i>
                    <h3 class="font-bold text-xl text-white dark:text-white text-gray-800" data-lang-text="windows">ویندوز</h3>
                    <p class="text-blue-300 dark:text-blue-300 text-blue-600 font-semibold mt-2">v2rayN</p>
                </a>
                <a href="https://github.com/hiddify/hiddify-next/releases" target="_blank" class="card-glass rounded-2xl p-6 group text-center">
                    <i class="fa-brands fa-apple text-5xl text-gray-400 dark:text-gray-400 text-gray-600 mb-4"></i>
                    <h3 class="font-bold text-xl text-white dark:text-white text-gray-800" data-lang-text="macos">macOS</h3>
                    <p class="text-gray-300 dark:text-gray-300 text-gray-600 font-semibold mt-2">Hiddify Next</p>
                </a>
            </div>
        </section>

        <!-- Tutorial Section -->
        <section id="tutorial" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white dark:text-white text-gray-800" data-lang-text="tutorial-title">راهنمای اتصال در ۴ مرحله</h2>
                <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-lg" data-lang-text="tutorial-desc">به سادگی و در چند دقیقه به اینترنت آزاد متصل شوید.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 text-center text-white dark:text-white text-gray-800">
                <!-- Step 1 -->
                <div class="flex flex-col items-center">
                    <div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-primary to-secondary text-white text-4xl font-bold shadow-lg mb-4">1</div>
                    <h3 class="text-xl font-bold mb-2" data-lang-text="step-1-title">کپی لینک</h3>
                    <p class="text-gray-300 dark:text-gray-300 text-gray-700" data-lang-text="step-1-desc">
                        ابتدا به <a href="#sublink" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold hover:underline">بخش لینک اشتراک</a> بروید و لینک را کپی کنید.
                    </p>
                </div>
                <!-- Step 2 -->
                <div class="flex flex-col items-center">
                    <div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-primary to-secondary text-white text-4xl font-bold shadow-lg mb-4">2</div>
                    <h3 class="text-xl font-bold mb-2" data-lang-text="step-2-title">نصب کلاینت</h3>
                    <p class="text-gray-300 dark:text-gray-300 text-gray-700" data-lang-text="step-2-desc">
                        سپس از <a href="#download" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold hover:underline">بخش دانلود</a>، اپلیکیشن مناسب سیستم‌عامل خود را نصب کنید.
                    </p>
                </div>
                <!-- Step 3 -->
                <div class="flex flex-col items-center">
                    <div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-primary to-secondary text-white text-4xl font-bold shadow-lg mb-4">3</div>
                    <h3 class="text-xl font-bold mb-2" data-lang-text="step-3-title">افزودن سرورها</h3>
                    <p class="text-gray-300 dark:text-gray-300 text-gray-700" data-lang-text="step-3-desc">
                        در اپلیکیشن، از قسمت اشتراک (Subscription)، لینک کپی شده را وارد کنید تا سرورها اضافه شوند.
                    </p>
                </div>
                <!-- Step 4 -->
                <div class="flex flex-col items-center">
                    <div class="flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-primary to-secondary text-white text-4xl font-bold shadow-lg mb-4">4</div>
                    <h3 class="text-xl font-bold mb-2" data-lang-text="step-4-title">اتصال نهایی</h3>
                    <p class="text-gray-300 dark:text-gray-300 text-gray-700" data-lang-text="step-4-desc">
                        یک سرور را انتخاب کرده و دکمه اتصال را بزنید. از اینترنت آزاد لذت ببرید!
                    </p>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faq" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 text-white dark:text-white text-gray-800" data-lang-text="faq-title">سوالات متداول</h2>
                <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-lg" data-lang-text="faq-desc">پاسخ به پرسش‌های رایج شما</p>
            </div>
            <div class="max-w-4xl mx-auto space-y-4" id="faq-container">
                <!-- FAQ items will be injected here by JS -->
            </div>
        </section>

        <!-- Troubleshooting Section -->
        <section id="troubleshooting" class="animated-section container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 bg-gradient-to-r from-secondary via-primary to-primary bg-clip-text text-transparent" data-lang-text="troubleshoot-title">عیب‌یابی هوشمند</h2>
                <p class="text-gray-300 dark:text-gray-300 text-gray-700 text-lg" data-lang-text="troubleshoot-desc">مشکلات احتمالی و راه‌حل‌های سریع</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <!-- Problem 1 -->
                <div class="card-glass rounded-2xl p-6 text-center">
                    <div class="w-16 h-16 bg-red-500 bg-opacity-20 text-red-400 dark:text-red-400 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
                        <i class="fa-solid fa-wifi-slash"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white dark:text-white text-gray-800 mb-2" data-lang-text="problem-1-title">وصل نمی‌شود؟</h3>
                    <ul class="text-gray-300 dark:text-gray-300 text-gray-700 space-y-3 text-right" dir="rtl">
                        <li class="flex items-start"><i class="fa-solid fa-cloud-arrow-down text-blue-400 dark:text-blue-400 text-blue-600 ml-2 mt-1 w-5 text-center"></i><span data-lang-text="problem-1-solution-1">ابتدا لینک اشتراک را آپدیت کنید.</span></li>
                        <li class="flex items-start"><i class="fa-solid fa-network-wired text-yellow-400 dark:text-yellow-400 text-yellow-600 ml-2 mt-1 w-5 text-center"></i><span data-lang-text="problem-1-solution-2">اتصال اینترنت خود را چک کنید.</span></li>
                        <li class="flex items-start"><i class="fa-solid fa-server text-purple-400 dark:text-purple-400 text-purple-600 ml-2 mt-1 w-5 text-center"></i><span data-lang-text="problem-1-solution-3">یک سرور دیگر را امتحان کنید.</span></li>
                    </ul>
                </div>
                <!-- Problem 2 -->
                <div class="card-glass rounded-2xl p-6 text-center">
                    <div class="w-16 h-16 bg-orange-500 bg-opacity-20 text-orange-400 dark:text-orange-400 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
                        <i class="fa-solid fa-gauge-simple-low"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white dark:text-white text-gray-800 mb-2" data-lang-text="problem-2-title">سرعت پایین است؟</h3>
                    <ul class="text-gray-300 dark:text-gray-300 text-gray-700 space-y-3 text-right" dir="rtl">
                        <li class="flex items-start"><i class="fa-solid fa-bolt text-yellow-400 dark:text-yellow-400 text-yellow-600 ml-2 mt-1 w-5 text-center"></i><span data-lang-text="problem-2-solution-1">به بخش تست سرعت مراجعه کنید.</span></li>
                        <li class="flex items-start"><i class="fa-solid fa-signal text-green-400 dark:text-green-400 text-green-600 ml-2 mt-1 w-5 text-center"></i><span data-lang-text="problem-2-solution-2">به سروری با پینگ پایین‌تر متصل شوید.</span></li>
                        <li class="flex items-start"><i class="fa-solid fa-window-close text-red-400 dark:text-red-400 text-red-600 ml-2 mt-1 w-5 text-center"></i><span data-lang-text="problem-2-solution-3">برنامه‌های پرمصرف اینترنت را ببندید.</span></li>
                    </ul>
                </div>
                <!-- Problem 3 -->
                <div class="card-glass rounded-2xl p-6 text-center">
                    <div class="w-16 h-16 bg-blue-500 bg-opacity-20 text-blue-400 dark:text-blue-400 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
                        <i class="fa-solid fa-triangle-exclamation"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white dark:text-white text-gray-800 mb-2" data-lang-text="problem-3-title">هنوز مشکل دارید؟</h3>
                    <ul class="text-gray-300 dark:text-gray-300 text-gray-700 space-y-3 text-right" dir="rtl">
                        <li class="flex items-start"><i class="fa-solid fa-arrow-up-from-bracket text-sky-400 dark:text-sky-400 text-sky-600 ml-2 mt-1 w-5 text-center"></i><span data-lang-text="problem-3-solution-1">مطمئن شوید از آخرین نسخه کلاینت استفاده می‌کنید.</span></li>
                        <li class="flex items-start"><i class="fa-solid fa-power-off text-red-400 dark:text-red-400 text-red-600 ml-2 mt-1 w-5 text-center"></i><span data-lang-text="problem-3-solution-2">یک بار دستگاه خود را ری‌استارت کنید.</span></li>
                        <li class="flex items-start"><i class="fa-solid fa-headset text-green-400 dark:text-green-400 text-green-600 ml-2 mt-1 w-5 text-center"></i><span data-lang-text="problem-3-solution-3">با <a href="https://www.instagram.com/hamidyaraliofficial?igsh=MWpxZjhhMHZuNnlpYQ==" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold">پشتیبانی</a> در ارتباط باشید.</span></li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="pt-16 pb-8 relative overflow-hidden">
        <div class="container mx-auto px-4 relative z-10">
            <div class="text-center mb-10">
                <h2 class="text-4xl font-bold mb-2 text-white dark:text-white text-gray-800">EagleNet</h2>
                <p class="text-blue-200 dark:text-blue-200 text-blue-600" data-lang-text="footer-slogan">اینترنت آزاد برای همه، همیشه و همه‌جا</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 max-w-2xl mx-auto mb-10">
                <!-- Developer -->
                <a href="https://www.instagram.com/hamidyaraliofficial?igsh=MWpxZjhhMHZuNnlpYQ==" target="_blank" class="card-glass rounded-2xl p-6 flex items-center space-x-4 space-x-reverse group">
                    <div class="w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-3xl text-white shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-solid fa-user-astronaut"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-white dark:text-white text-gray-800" data-lang-text="developer">توسعه‌دهنده</h3>
                        <p class="text-gray-300 dark:text-gray-300 text-gray-700" data-lang-text="developer-desc">ارتباط مستقیم و پشتیبانی - حمید یارعلی</p>
                    </div>
                </a>
                <!-- GitHub -->
                <a href="https://github.com/HamidYaraliOfficial" target="_blank" class="card-glass rounded-2xl p-6 flex items-center space-x-4 space-x-reverse group">
                    <div class="w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-3xl text-white shadow-lg transition-transform group-hover:scale-110">
                        <i class="fa-brands fa-github"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-white dark:text-white text-gray-800" data-lang-text="github">گیت‌هاب</h3>
                        <p class="text-gray-300 dark:text-gray-300 text-gray-700" data-lang-text="github-desc">اخبار و سورس‌کدها</p>
                    </div>
                </a>
            </div>
            <div class="border-t border-white border-opacity-20 dark:border-gray-700 pt-6 text-center text-blue-200 dark:text-blue-200 text-blue-600 text-sm">
                <p data-lang-text="footer-copyright">
                    © ۱۴۰۳ EagleNet - ساخته شده با ❤️ توسط حمید یارعلی
                </p>
            </div>
        </div>
    </footer>

    <script>
        // --- LANGUAGE DATA ---
        const translations = {
            fa: {
                'welcome-title': 'به EagleNet خوش آمدید!',
                'welcome-message': 'اینجا دروازه‌ای به سوی اینترنت آزاد و بدون محدودیت است. امیدواریم از سرویس ما لذت ببرید.',
                'welcome-button': 'بزن بریم!',
                'header-subtitle': 'سرویس VPN حرفه‌ای و رایگان',
                'status': 'وضعیت',
                'active-servers': 'سرور فعال',
                'ping': 'پینگ',
                'ip-address': 'آدرس IP شما',
                'location': 'موقعیت مکانی',
                'isp': 'سرویس‌دهنده',
                'loading': 'در حال بارگذاری...',
                'sub-link': 'لینک اشتراک',
                'sub-link-desc': 'افزودن همه سرورها',
                'tools': 'ابزارهای واقعی',
                'tools-desc': 'تست پینگ و امنیت',
                'updates': 'آخرین آپدیت‌ها',
                'updates-desc': 'اخبار و اطلاعیه‌ها',
                'sub-link-title': 'لینک اشتراک (Subscription)',
                'sub-link-desc-long': 'این لینک را در کلاینت خود وارد کنید تا همه سرورها به صورت خودکار اضافه شوند.',
                'copy-link': 'کپی کردن لینک',
                'news-title': 'آخرین اخبار و اطلاعیه‌ها',
                'news-desc': 'همیشه از آخرین تغییرات و بهبودها مطلع باشید.',
                'news-1-title': '۸ سرور جدید CDN آلمان',
                'news-1-desc': '۸ سرور جدید آلمان با تکنولوژی CDN کلودفلر برای پایداری و سرعت بالاتر به لیست اضافه شد. این سرورها با تمام کلاینت‌های V2Ray سازگار هستند. برای دریافت، لینک اشتراک خود را آپدیت کنید.',
                'news-2-title': '۶ سرور نیم‌بها مخصوص گیمرها',
                'news-2-desc': '۶ سرور جدید و پرسرعت با دیتاسنتر داخلی **رسپینا** به لیست اضافه شد. این سرورها با ترافیک **نیم‌بها** محاسبه شده و بهترین پینگ را برای بازی‌های آنلاین و استریم فراهم می‌کنند.',
                'today': 'امروز',
                'special': 'ویژه',
                'config-title': 'دریافت کانفیگ',
                'config-desc': 'کانفیگ مورد نظر خود را کپی یا اسکن کنید.',
                'direct-config': 'کپی مستقیم کانفیگ',
                'direct-config-desc': 'لیست سرورهای جدید آلمان (CDN)',
                'qr-code': 'QR کد کانفیگ',
                'qr-code-desc': 'اسکن کنید و متصل شوید',
                'config-1': 'VLESS - آلمان (CDN 1) 🇩🇪',
                'config-2': 'VLESS - آلمان (CDN 2) 🇩🇪',
                'config-3': 'Trojan - آلمان (CDN 5) 🇩🇪',
                'tools-title': 'ابزارهای کاربردی',
                'tools-desc-long': 'وضعیت اتصال خود را بررسی کنید',
                'ping-test': 'تست زنده پینگ سرورها',
                'ping-test-desc': 'سریع‌ترین سرور را برای خود پیدا کنید',
                'start-ping': 'شروع تست پینگ',
                'dns-leak': 'بررسی نشت DNS',
                'dns-leak-desc': 'امنیت اتصال خود را بسنجید',
                'dns-leak-placeholder': 'برای بررسی وضعیت، روی دکمه زیر کلیک کنید.',
                'start-dns': 'شروع بررسی امنیت',
                'android': 'اندروید',
                'ios': 'iOS',
                'windows': 'ویندوز',
                'macos': 'macOS',
                'tutorial-title': 'راهنمای اتصال در ۴ مرحله',
                'tutorial-desc': 'به سادگی و در چند دقیقه به اینترنت آزاد متصل شوید.',
                'step-1-title': 'کپی لینک',
                'step-1-desc': 'ابتدا به <a href="#sublink" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold hover:underline">بخش لینک اشتراک</a> بروید و لینک را کپی کنید.',
                'step-2-title': 'نصب کلاینت',
                'step-2-desc': 'سپس از <a href="#download" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold hover:underline">بخش دانلود</a>، اپلیکیشن مناسب سیستم‌عامل خود را نصب کنید.',
                'step-3-title': 'افزودن سرورها',
                'step-3-desc': 'در اپلیکیشن، از قسمت اشتراک (Subscription)، لینک کپی شده را وارد کنید تا سرورها اضافه شوند.',
                'step-4-title': 'اتصال نهایی',
                'step-4-desc': 'یک سرور را انتخاب کرده و دکمه اتصال را بزنید. از اینترنت آزاد لذت ببرید!',
                'faq-title': 'سوالات متداول',
                'faq-desc': 'پاسخ به پرسش‌های رایج شما',
                'troubleshoot-title': 'عیب‌یابی هوشمند',
                'troubleshoot-desc': 'مشکلات احتمالی و راه‌حل‌های سریع',
                'problem-1-title': 'وصل نمی‌شود؟',
                'problem-1-solution-1': 'ابتدا لینک اشتراک را آپدیت کنید.',
                'problem-1-solution-2': 'اتصال اینترنت خود را چک کنید.',
                'problem-1-solution-3': 'یک سرور دیگر را امتحان کنید.',
                'problem-2-title': 'سرعت پایین است؟',
                'problem-2-solution-1': 'به بخش تست سرعت مراجعه کنید.',
                'problem-2-solution-2': 'به سروری با پینگ پایین‌تر متصل شوید.',
                'problem-2-solution-3': 'برنامه‌های پرمصرف اینترنت را ببندید.',
                'problem-3-title': 'هنوز مشکل دارید؟',
                'problem-3-solution-1': 'مطمئن شوید از آخرین نسخه کلاینت استفاده می‌کنید.',
                'problem-3-solution-2': 'یک بار دستگاه خود را ری‌استارت کنید.',
                'problem-3-solution-3': 'با <a href="https://www.instagram.com/hamidyaraliofficial?igsh=MWpxZjhhMHZuNnlpYQ==" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold">پشتیبانی</a> در ارتباط باشید.',
                'developer': 'توسعه‌دهنده',
                'developer-desc': 'ارتباط مستقیم و پشتیبانی - حمید یارعلی',
                'github': 'گیت‌هاب',
                'github-desc': 'اخبار و سورس‌کدها',
                'footer-slogan': 'اینترنت آزاد برای همه، همیشه و همه‌جا',
                'footer-copyright': '© ۱۴۰۳ EagleNet - ساخته شده با ❤️ توسط حمید یارعلی'
            },
            en: {
                'welcome-title': 'Welcome to EagleNet!',
                'welcome-message': 'This is your gateway to a free and unrestricted internet. We hope you enjoy our service.',
                'welcome-button': 'Let’s Get Started!',
                'header-subtitle': 'Professional and Free VPN Service',
                'status': 'Status',
                'active-servers': 'Active Servers',
                'ping': 'Ping',
                'ip-address': 'Your IP Address',
                'location': 'Location',
                'isp': 'ISP',
                'loading': 'Loading...',
                'sub-link': 'Subscription Link',
                'sub-link-desc': 'Add All Servers',
                'tools': 'Real Tools',
                'tools-desc': 'Ping and Security Tests',
                'updates': 'Latest Updates',
                'updates-desc': 'Stay informed about the latest changes and improvements.',
                'sub-link-title': 'Subscription Link',
                'sub-link-desc-long': 'Enter this link in your client to automatically add all servers.',
                'copy-link': 'Copy Link',
                'news-title': 'Latest News and Announcements',
                'news-desc': 'Stay informed about the latest changes and improvements.',
                'news-1-title': '8 New Germany CDN Servers',
                'news-1-desc': '8 new Germany servers with Cloudflare CDN technology have been added for better stability and speed. These servers are compatible with all V2Ray clients. Update your subscription link to access them.',
                'news-2-title': '6 Half-Price Servers for Gamers',
                'news-2-desc': '6 new high-speed servers with the **Raspina** data center have been added. These servers offer **half-price** traffic and the best ping for online gaming and streaming.',
                'today': 'Today',
                'special': 'Special',
                'config-title': 'Get Configuration',
                'config-desc': 'Copy or scan your desired configuration.',
                'direct-config': 'Direct Config Copy',
                'direct-config-desc': 'List of New Germany Servers (CDN)',
                'qr-code': 'QR Code Config',
                'qr-code-desc': 'Scan to Connect',
                'config-1': 'VLESS - Germany (CDN 1) 🇩🇪',
                'config-2': 'VLESS - Germany (CDN 2) 🇩🇪',
                'config-3': 'Trojan - Germany (CDN 5) 🇩🇪',
                'tools-title': 'Useful Tools',
                'tools-desc-long': 'Check your connection status',
                'ping-test': 'Live Server Ping Test',
                'ping-test-desc': 'Find the fastest server for you',
                'start-ping': 'Start Ping Test',
                'dns-leak': 'DNS Leak Test',
                'dns-leak-desc': 'Check your connection security',
                'dns-leak-placeholder': 'Click the button below to check the status.',
                'start-dns': 'Start Security Check',
                'android': 'Android',
                'ios': 'iOS',
                'windows': 'Windows',
                'macos': 'macOS',
                'tutorial-title': 'Connection Guide in 4 Steps',
                'tutorial-desc': 'Connect to the free internet easily in just a few minutes.',
                'step-1-title': 'Copy Link',
                'step-1-desc': 'Go to the <a href="#sublink" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold hover:underline">Subscription Link</a> section and copy the link.',
                'step-2-title': 'Install Client',
                'step-2-desc': 'Then, from the <a href="#download" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold hover:underline">Download</a> section, install the appropriate app for your operating system.',
                'step-3-title': 'Add Servers',
                'step-3-desc': 'In the app, go to the Subscription section and enter the copied link to add the servers.',
                'step-4-title': 'Final Connection',
                'step-4-desc': 'Select a server and click the connect button. Enjoy the free internet!',
                'faq-title': 'Frequently Asked Questions',
                'faq-desc': 'Answers to your common questions',
                'troubleshoot-title': 'Smart Troubleshooting',
                'troubleshoot-desc': 'Common issues and quick solutions',
                'problem-1-title': 'Can’t Connect?',
                'problem-1-solution-1': 'First, update your subscription link.',
                'problem-1-solution-2': 'Check your internet connection.',
                'problem-1-solution-3': 'Try another server.',
                'problem-2-title': 'Slow Speed?',
                'problem-2-solution-1': 'Visit the speed test section.',
                'problem-2-solution-2': 'Connect to a server with lower ping.',
                'problem-2-solution-3': 'Close bandwidth-heavy applications.',
                'problem-3-title': 'Still Having Issues?',
                'problem-3-solution-1': 'Ensure you’re using the latest client version.',
                'problem-3-solution-2': 'Restart your device.',
                'problem-3-solution-3': 'Contact <a href="https://www.instagram.com/hamidyaraliofficial?igsh=MWpxZjhhMHZuNnlpYQ==" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold">support</a>.',
                'developer': 'Developer',
                'developer-desc': 'Direct contact and support - Hamid Yarali',
                'github': 'GitHub',
                'github-desc': 'News and source code',
                'footer-slogan': 'Free internet for everyone, always and everywhere',
                'footer-copyright': '© 2025 EagleNet - Built with ❤️ by Hamid Yarali'
            },
            zh: {
                'welcome-title': '欢迎体验EagleNet！',
                'welcome-message': '这里是通往自由无限制网络的大门。希望您喜欢我们的服务。',
                'welcome-button': '立即开始！',
                'header-subtitle': '专业免费VPN服务',
                'status': '状态',
                'active-servers': '活跃服务器',
                'ping': '延迟',
                'ip-address': '您的IP地址',
                'location': '位置',
                'isp': '服务提供商',
                'loading': '加载中...',
                'sub-link': '订阅链接',
                'sub-link-desc': '添加所有服务器',
                'tools': '实用工具',
                'tools-desc': '延迟和安全性测试',
                'updates': '最新更新',
                'updates-desc': '随时了解最新的变化和改进。',
                'sub-link-title': '订阅链接',
                'sub-link-desc-long': '在您的客户端中输入此链接以自动添加所有服务器。',
                'copy-link': '复制链接',
                'news-title': '最新消息和公告',
                'news-desc': '随时了解最新的变化和改进。',
                'news-1-title': '8个新的德国CDN服务器',
                'news-1-desc': '新增了8个采用Cloudflare CDN技术的德国服务器，以提高稳定性和速度。这些服务器与所有V2Ray客户端兼容。更新您的订阅链接以访问它们。',
                'news-2-title': '6个专为游戏玩家设计的半价服务器',
                'news-2-desc': '新增了6个高速服务器，采用**Raspina**数据中心。这些服务器提供**半价**流量，为在线游戏和流媒体提供最佳延迟。',
                'today': '今天',
                'special': '特别',
                'config-title': '获取配置',
                'config-desc': '复制或扫描您想要的配置。',
                'direct-config': '直接复制配置',
                'direct-config-desc': '新德国服务器列表（CDN）',
                'qr-code': '二维码配置',
                'qr-code-desc': '扫描以连接',
                'config-1': 'VLESS - 德国 (CDN 1) 🇩🇪',
                'config-2': 'VLESS - 德国 (CDN 2) 🇩🇪',
                'config-3': 'Trojan - 德国 (CDN 5) 🇩🇪',
                'tools-title': '实用工具',
                'tools-desc-long': '检查您的连接状态',
                'ping-test': '实时服务器延迟测试',
                'ping-test-desc': '为您找到最快的服务器',
                'start-ping': '开始延迟测试',
                'dns-leak': 'DNS泄漏测试',
                'dns-leak-desc': '检查您的连接安全性',
                'dns-leak-placeholder': '点击下面的按钮检查状态。',
                'start-dns': '开始安全检查',
                'android': '安卓',
                'ios': 'iOS',
                'windows': 'Windows',
                'macos': 'macOS',
                'tutorial-title': '4个步骤连接指南',
                'tutorial-desc': '只需几分钟即可轻松连接到自由网络。',
                'step-1-title': '复制链接',
                'step-1-desc': '前往<a href="#sublink" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold hover:underline">订阅链接</a>部分并复制链接。',
                'step-2-title': '安装客户端',
                'step-2-desc': '然后，从<a href="#download" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold hover:underline">下载</a>部分安装适合您操作系统的应用程序。',
                'step-3-title': '添加服务器',
                'step-3-desc': '在应用程序中，进入订阅部分并输入复制的链接以添加服务器。',
                'step-4-title': '最终连接',
                'step-4-desc': '选择一个服务器并点击连接按钮。享受自由网络！',
                'faq-title': '常见问题',
                'faq-desc': '解答您的常见问题',
                'troubleshoot-title': '智能故障排除',
                'troubleshoot-desc': '常见问题和快速解决方案',
                'problem-1-title': '无法连接？',
                'problem-1-solution-1': '首先，更新您的订阅链接。',
                'problem-1-solution-2': '检查您的网络连接。',
                'problem-1-solution-3': '尝试其他服务器。',
                'problem-2-title': '速度慢？',
                'problem-2-solution-1': '访问速度测试部分。',
                'problem-2-solution-2': '连接到延迟较低的服务器。',
                'problem-2-solution-3': '关闭高带宽应用程序。',
                'problem-3-title': '仍有问题？',
                'problem-3-solution-1': '确保您使用的是最新版本的客户端。',
                'problem-3-solution-2': '重启您的设备。',
                'problem-3-solution-3': '联系<a href="https://www.instagram.com/hamidyaraliofficial?igsh=MWpxZjhhMHZuNnlpYQ==" class="text-blue-400 dark:text-blue-400 text-blue-600 font-semibold">支持</a>。',
                'developer': '开发者',
                'developer-desc': '直接联系和支持 - Hamid Yarali',
                'github': 'GitHub',
                'github-desc': '新闻和源代码',
                'footer-slogan': '为所有人提供自由网络，随时随地',
                'footer-copyright': '© 2025 EagleNet - 由Hamid Yarali用❤️打造'
            }
        };

        // --- CONFIGURATIONS ---
const configs = {
    cf_de_1: { name: 'VLESS - IRDevs 1 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FlwIBsf84RYZSVl1x%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fK31lnDM4w8uJ0yp1dRWlTdTdko6y-CU.pAGES.DeV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%201' },
    cf_de_2: { name: 'VLESS - IRDevs 2 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@www.speedtest.net:443?path=%2FweIiUrqpwSQLUEGI%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=FK31lNdM4W8Uj0Yp1dRWlTDtDKo6y-Cu.pagES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%202' },
    cf_de_3: { name: 'VLESS - IRDevs 3 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@172.66.45.9:443?path=%2FSKBxgdeScAwjcuZJ%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31Lndm4w8uj0yp1drWLTdtdko6y-cU.PaGES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%203' },
    cf_de_4: { name: 'VLESS - IRDevs 4 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@172.66.46.247:443?path=%2FfNX3GzNxncCIIsf7%3Fed%3D2560&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lndM4W8UJ0YP1DrwLtDtDKO6y-CU.pAgES.DEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%204' },
    cf_de_tr_5: { name: 'Trojan - IRDevs 5 🇩🇪', config: 'trojan://%3AbC5%5Elakx%3E%24d@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FtrULF8XIBg0I5upoFe%3Fed%3D2560&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fK31lnDM4w8uJ0yp1dRWlTdTdko6y-CU.pAGES.DeV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%205' },
    cf_de_tr_6: { name: 'Trojan - IRDevs 6 🇩🇪', config: 'trojan://%3AbC5%5Elakx%3E%24d@www.speedtest.net:443?path=%2FtrAF6D510tD4ptv2AR%3Fed%3D2560&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=FK31lNdM4W8Uj0Yp1dRWlTDtDKo6y-Cu.pagES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%206' },
    cf_de_tr_7: { name: 'Trojan - IRDevs 7 🇩🇪', config: 'trojan://%3AbC5%5Elakx%3E%24d@172.66.45.9:443?path=%2Ftrucd7RaARX7VGCRLn%3Fed%3D2560&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31Lndm4w8uj0yp1drWLTdtdko6y-cU.PaGES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%207' },
    cf_de_tr_8: { name: 'Trojan - IRDevs 8 🇩🇪', config: 'trojan://%3AbC5%5Elakx%3E%24d@172.66.46.247:443?path=%2FtrSCnmRLkssMpXzgTT%3Fed%3D2560&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lndM4W8UJ0YP1DrwLtDtDKO6y-CU.pAgES.DEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20-%20IRDevs%208' },
    cf_plus_1: { name: 'VLESS Plus - IRDevs 1 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FXHPTFMTFoBNv6IV6&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lnDM4W8UJ0yP1dRwlTDTDKo6y-cU.PaGeS.DeV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%201' },
    cf_plus_2: { name: 'VLESS Plus - IRDevs 2 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@www.speedtest.net:443?path=%2FkDPocrIW3Ice02v4&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=FK31lnDM4w8UJ0YP1dRWLtdtDKO6Y-cu.pages.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%202' },
    cf_plus_3: { name: 'VLESS Plus - IRDevs 3 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@172.66.46.247:443?path=%2FlaGekhA1Q1IhSqJe&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lnDM4W8uJ0Yp1drWlTdTdkO6Y-Cu.pages.deV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%203' },
    cf_plus_4: { name: 'VLESS Plus - IRDevs 4 🇩🇪', config: 'vless://826f524a-cea1-4e44-9b49-3381d13b7593@172.66.45.9:443?path=%2FgL8gLANdh881Nj22&security=tls&alpn=http%2F1.1&encryption=none&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31LnDm4W8uj0yP1dRwLTDTdKo6Y-cu.pAGES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%204' },
    cf_plus_tr_5: { name: 'Trojan Plus - IRDevs 5 🇩🇪', config: 'trojan://%3AbC5%5Elakx%3E%24d@fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev:443?path=%2FtrwiiTqrBOtbrsPAWf&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lnDM4W8UJ0yP1dRwlTDTDKo6y-cU.PaGeS.DeV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%205' },
    cf_plus_tr_6: { name: 'Trojan Plus - IRDevs 6 🇩🇪', config: 'trojan://%3AbC5%5Elakx%3E%24d@www.speedtest.net:443?path=%2FtrmwnHKV1e9tS6xrWn&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=FK31lnDM4w8UJ0YP1dRWLtdtDKO6Y-cu.pages.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%206' },
    cf_plus_tr_7: { name: 'Trojan Plus - IRDevs 7 🇩🇪', config: 'trojan://%3AbC5%5Elakx%3E%24d@172.66.46.247:443?path=%2FtrCa9HmRicRGuAse4M&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31lnDM4W8uJ0Yp1drWlTdTdkO6Y-Cu.pages.deV#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%207' },
    cf_plus_tr_8: { name: 'Trojan Plus - IRDevs 8 🇩🇪', config: 'trojan://%3AbC5%5Elakx%3E%24d@172.66.45.9:443?path=%2FtrNs9G5VJ2vI0PxgP2&security=tls&alpn=http%2F1.1&host=fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev&fp=randomized&type=ws&sni=fk31LnDm4W8uj0yP1dRwLTDTdKo6Y-cu.pAGES.dEv#%F0%9F%87%A9%F0%9F%87%AA%20Cloudflare%20Plus%20-%20IRDevs%208' },
};

const faqData = [
    { question: "آیا این سرویس رایگان است؟", answer: "بله، سرویس EagleNet کاملاً رایگان است و همیشه رایگان باقی خواهد ماند. هدف ما فراهم کردن دسترسی آزاد به اینترنت برای همه است." },
    { question: "چرا گاهی سرعت کم می‌شود؟", answer: "کاهش سرعت می‌تواند به دلیل شلوغی سرور در ساعات اوج مصرف یا اختلالات شبکه اینترنت شما باشد. پیشنهاد می‌کنیم سرور دیگری را امتحان کنید یا در زمان دیگری متصل شوید." },
    { question: "آیا استفاده از VPN امن است؟", answer: "بله، ما از آخرین پروتکل‌های رمزنگاری برای حفاظت از اطلاعات شما استفاده می‌کنیم. ترافیک شما کاملاً امن و غیرقابل ردیابی است." },
    { question: "چگونه می‌توانم سرعت را بهبود دهم؟", answer: "برای بهترین سرعت، سروری را انتخاب کنید که از نظر جغرافیایی به شما نزدیک‌تر است. همچنین، بستن برنامه‌های اضافی که از اینترنت استفاده می‌کنند می‌تواند به بهبود سرعت کمک کند." },
    { question: "اگر سرور قطع شود چه کنم؟", answer: "کافیست از لیست سرورها، یک سرور دیگر را انتخاب و متصل شوید. ما چندین سرور فعال برای اطمینان از پایداری سرویس داریم." },
    { question: "آیا روی همه دستگاه‌ها کار می‌کند؟", answer: "بله، شما می‌توانید از EagleNet روی سیستم‌عامل‌های اندروید، iOS، ویندوز و macOS با استفاده از کلاینت‌های معرفی شده در بخش دانلود استفاده کنید." }
];

// --- CORE FUNCTIONS ---
document.addEventListener('DOMContentLoaded', function() {
    if (!sessionStorage.getItem('eagleNetWelcomed')) {
        document.getElementById('welcomeModal').classList.remove('hidden');
    }

    buildFAQ();
    buildConfigList();
    updateServerStats();
    generateQR();
    setInterval(updateServerStats, 3000);
    
    // Intersection Observer for animations
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-slide-up');
            }
        });
    }, { threshold: 0.1 });

    document.querySelectorAll('.animated-section').forEach(section => {
        observer.observe(section);
    });
    
    getUserInfo();

    // Language switcher
    document.querySelectorAll('.language-switcher button').forEach(button => {
        button.addEventListener('click', () => switchLanguage(button.dataset.lang));
    });

    // Theme toggle
    document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
});

function switchLanguage(lang) {
    document.getElementById('html-root').setAttribute('lang', lang);
    document.getElementById('html-root').setAttribute('dir', lang === 'fa' ? 'rtl' : 'ltr');
    document.querySelectorAll('[data-lang-text]').forEach(element => {
        const key = element.dataset.langText;
        element.innerHTML = translations[lang][key] || element.innerHTML;
    });
    document.querySelectorAll('.language-switcher button').forEach(button => {
        button.classList.remove('active');
    });
    document.querySelector(`.language-switcher button[data-lang="${lang}"]`).classList.add('active');
    buildFAQ();
    buildConfigList();
    generateQR();
}

function toggleTheme() {
    const html = document.getElementById('html-root');
    const button = document.getElementById('theme-toggle');
    if (html.classList.contains('dark')) {
        html.classList.remove('dark');
        html.classList.add('light');
        button.innerHTML = '<i class="fa-solid fa-moon mr-2"></i> حالت تاریک';
        localStorage.setItem('theme', 'light');
    } else {
        html.classList.remove('light');
        html.classList.add('dark');
        button.innerHTML = '<i class="fa-solid fa-sun mr-2"></i> حالت روشن';
        localStorage.setItem('theme', 'dark');
    }
}

function updateServerStats() {
    const serviceStartDate = new Date('2023-01-01T00:00:00Z');
    const totalDowntimeInSeconds = 2 * 3600; 
    const now = new Date();
    const totalTimeInSeconds = (now - serviceStartDate) / 1000;
    const totalUptimeInSeconds = totalTimeInSeconds - totalDowntimeInSeconds;
    const uptimePercentage = (totalUptimeInSeconds / totalTimeInSeconds) * 100;
    document.getElementById('uptime').textContent = uptimePercentage.toFixed(4);

    const basePing = 45;
    const fluctuation = (Math.random() - 0.5) * 20;
    const currentPing = Math.round(basePing + fluctuation);
    document.getElementById('serverPing').textContent = currentPing + 'ms';
}

async function copyToClipboard(text, message) {
    try {
        await navigator.clipboard.writeText(text);
        showNotification(message, 'success');
    } catch (err) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.opacity = '0';
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
            document.execCommand('copy');
            showNotification(message, 'success');
        } catch (err) {
            showNotification('خطا در کپی کردن!', 'error');
        }
        document.body.removeChild(textArea);
    }
}

function generateQR() {
    const selectedValue = document.getElementById('configSelect').value;
    const configData = configs[selectedValue];
    if (!configData) return;
    
    const qrContainer = document.getElementById('qrcode');
    qrContainer.innerHTML = '';
    
    try {
        const qr = qrcode(0, 'M');
        qr.addData(configData.config);
        qr.make();
        const qrSvg = qr.createSvgTag({ cellSize: 4, margin: 2, scalable: true });
        qrContainer.innerHTML = qrSvg.replace('<svg', '<svg style="width: 100%; max-width: 180px; height: auto; border-radius: 8px;"');
    } catch (error) {
        qrContainer.innerHTML = '<p class="text-red-500">خطا در تولید QR کد</p>';
    }
}

// --- BUILDER FUNCTIONS ---
function buildFAQ() {
    const container = document.getElementById('faq-container');
    const lang = document.getElementById('html-root').getAttribute('lang') || 'fa';
    container.innerHTML = '';
    faqData.forEach(item => {
        const faqItem = document.createElement('div');
        faqItem.className = 'card-glass rounded-2xl overflow-hidden';
        faqItem.innerHTML = `
            <div class="faq-question flex justify-between items-center p-5 cursor-pointer hover:bg-white hover:bg-opacity-10">
                <h3 class="font-semibold text-white dark:text-white text-gray-800">${translations[lang][item.question] || item.question}</h3>
                <i class="fa-solid fa-chevron-down text-gray-300 transition-transform"></i>
            </div>
            <div class="faq-answer">
                <p class="p-5 pt-0 text-gray-300 dark:text-gray-300 text-gray-700">${translations[lang][item.answer] || item.answer}</p>
            </div>
        `;
        container.appendChild(faqItem);
    });

    container.addEventListener('click', function(e) {
        const question = e.target.closest('.faq-question');
        if (question) {
            const answer = question.nextElementSibling;
            const icon = question.querySelector('i');
            
            if (answer.style.maxHeight) {
                answer.style.maxHeight = null;
                icon.classList.remove('rotate-180');
            } else {
                answer.style.maxHeight = answer.scrollHeight + "px";
                icon.classList.add('rotate-180');
            }
        }
    });
}

function buildConfigList() {
    const container = document.getElementById('config-list-container');
    const lang = document.getElementById('html-root').getAttribute('lang') || 'fa';
    container.innerHTML = '';
    Object.keys(configs).forEach(key => {
        const button = document.createElement('button');
        button.onclick = () => copyConfig(key);
        button.className = 'w-full bg-white bg-opacity-10 hover:bg-opacity-20 text-white dark:text-white text-gray-800 py-3 rounded-lg font-medium transition-all shadow-lg hover:shadow-xl flex items-center justify-between px-4 text-sm';
        button.innerHTML = `
            <span>${translations[lang][configs[key].name] || configs[key].name}</span>
            <i class="fa-solid fa-copy"></i>
        `;
        container.appendChild(button);
    });
}

// --- REAL TOOLS ---
async function getUserInfo() {
    try {
        const response = await fetch('https://ipapi.co/json/');
        if (!response.ok) throw new Error('Failed to fetch IP info');
        const data = await response.json();
        document.getElementById('user-ip').textContent = data.ip || 'نامشخص';
        document.getElementById('user-location').textContent = `${data.city || ''}, ${data.country_name || ''}`;
        document.getElementById('user-isp').textContent = data.org || 'نامشخص';
        document.querySelectorAll('.animate-pulse').forEach(el => el.classList.remove('animate-pulse'));
    } catch (error) {
        document.getElementById('user-ip').textContent = 'خطا';
        document.getElementById('user-location').textContent = 'خطا';
        document.getElementById('user-isp').textContent = 'خطا';
    }
}

async function pingServer(url, name, container) {
    const resultEl = document.createElement('div');
    resultEl.className = 'flex justify-between items-center bg-black bg-opacity-20 p-3 rounded-lg text-sm';
    resultEl.innerHTML = `<span>${name}</span> <span class="font-mono animate-pulse">Testing...</span>`;
    container.appendChild(resultEl);

    const startTime = performance.now();
    try {
        await fetch(`https://${url}/favicon.ico?t=${new Date().getTime()}`, { mode: 'no-cors', cache: 'no-store' });
        const endTime = performance.now();
        const latency = Math.round(endTime - startTime);
        const span = resultEl.querySelector('span:last-child');
        span.textContent = `${latency} ms`;
        span.classList.remove('animate-pulse');
        if (latency < 150) span.classList.add('text-green-400');
        else if (latency < 300) span.classList.add('text-yellow-400');
        else span.classList.add('text-red-400');
    } catch (error) {
        const span = resultEl.querySelector('span:last-child');
        span.textContent = 'Failed';
        span.classList.remove('animate-pulse', 'text-yellow-400', 'text-green-400');
        span.classList.add('text-red-500');
    }
}

async function runAllPings() {
    const btn = document.getElementById('pingTestBtn');
    btn.disabled = true;
    btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin ml-2"></i> در حال تست...';
    
    const container = document.getElementById('ping-list-container');
    container.innerHTML = ''; 

    const serversToPing = [
        { name: 'Cloudflare CDN', url: 'cloudflare.com' },
        { name: 'IRDevs Domain', url: 'dev1.irdevs.sbs' },
        { name: 'Germany Server', url: 'fk31lndm4w8uj0yp1drwltdtdko6y-cu.pages.dev' },
    ];

    const pingPromises = serversToPing.map(server => pingServer(server.url, server.name, container));
    await Promise.all(pingPromises);

    btn.disabled = false;
    btn.innerHTML = '<i class="fa-solid fa-play ml-2"></i> شروع مجدد تست';
}

async function checkDNSLeak() {
    const btn = document.getElementById('dnsTestBtn');
    const resultContainer = document.getElementById('dns-leak-result');
    
    btn.disabled = true;
    btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin ml-2"></i> در حال بررسی...';
    resultContainer.innerHTML = `<div class="flex flex-col items-center text-center"><i class="fa-solid fa-spinner fa-spin text-4xl mb-4 text-white"></i><p>در حال ارسال درخواست به سرورهای تست...</p></div>`;

    try {
        const response = await fetch('https://www.dnsleaktest.com/json.php');
        if (!response.ok) throw new Error('Network response was not ok');
        const data = await response.json();

        let resultHTML = `
            <div class="text-center w-full">
                <p class="mb-4"><strong>سرورهای DNS شناسایی شده:</strong></p>
                <ul class="space-y-2 text-sm max-h-24 overflow-y-auto config-list pr-2">`;
        
        let isLeaking = false;
        let userIPCountry = '';

        if (data && data.length > 0) {
            userIPCountry = data[0].country_name;
            data.forEach(server => {
                resultHTML += `<li class="bg-black bg-opacity-20 p-2 rounded-lg">${server.ip} (${server.country_name})</li>`;
                if(server.country_code === 'IR') {
                    isLeaking = true;
                }
            });
        } else {
            resultHTML += `<li class="bg-black bg-opacity-20 p-2 rounded-lg">هیچ سرور DNS یافت نشد.</li>`;
        }
        resultHTML += `</ul>`;

        if (isLeaking) {
            resultHTML += `
                <div class="mt-4 p-3 rounded-lg bg-red-500 bg-opacity-30 border border-red-500">
                    <h4 class="font-bold text-red-300"><i class="fa-solid fa-exclamation-triangle ml-2"></i>احتمال نشت DNS وجود دارد!</h4>
                    <p class="text-xs mt-1">سرور DNS ایران در لیست شما مشاهده شد.</p>
                </div>`;
        } else {
            resultHTML += `
                <div class="mt-4 p-3 rounded-lg bg-green-500 bg-opacity-30 border border-green-500">
                    <h4 class="font-bold text-green-300"><i class="fa-solid fa-check-circle ml-2"></i>اتصال شما امن به نظر می‌رسد.</h4>
                    <p class="text-xs mt-1">هیچ سرور DNS از ایران یافت نشد.</p>
                </div>`;
        }
        resultContainer.innerHTML = resultHTML;
    } catch (error) {
        resultContainer.innerHTML = `
            <div class="text-red-400">
                <i class="fa-solid fa-times-circle text-4xl mb-4"></i>
                <p>خطا در انجام تست. لطفاً اتصال اینترنت خود را بررسی کرده و دوباره تلاش کنید.</p>
            </div>`;
    } finally {
        btn.disabled = false;
        btn.innerHTML = '<i class="fa-solid fa-search ml-2"></i> بررسی مجدد امنیت';
    }
}

// --- EVENT HANDLERS ---
function copyConfig(configKey) {
    const configData = configs[configKey];
    if (configData && configData.config) {
        copyToClipboard(configData.config, '✅ کانفیگ کپی شد!');
    } else {
        showNotification('کانفیگ مورد نظر یافت نشد!', 'error');
    }
}

function copySubLink() {
    const subLink = document.getElementById('subLink').textContent.trim();
    copyToClipboard(subLink, '✅ لینک اشتراک کپی شد!');
}

function closeWelcome() {
    sessionStorage.setItem('eagleNetWelcomed', 'true');
    const modal = document.getElementById('welcomeModal');
    modal.style.transition = 'opacity 0.3s ease';
    modal.style.opacity = '0';
    setTimeout(() => modal.classList.add('hidden'), 300);
}

// --- UI FUNCTIONS ---
function showNotification(message, type = 'success') {
    const existing = document.querySelector('.notification-toast');
    if(existing) existing.remove();

    const notification = document.createElement('div');
    const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500';
    const icon = type === 'success' ? '<i class="fa-solid fa-check-circle"></i>' : '<i class="fa-solid fa-times-circle"></i>';
    
    notification.className = `notification-toast fixed bottom-5 right-5 md:bottom-auto md:top-5 ${bgColor} text-white px-5 py-3 rounded-xl shadow-lg z-50 flex items-center space-x-3 space-x-reverse animate-fade-in`;
    notification.innerHTML = `<span class="text-xl">${icon}</span> <span class="font-medium">${message}</span>`;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
        notification.style.opacity = '0';
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => notification.remove(), 500);
    }, 3000);
}
</script>
</body>
</html>